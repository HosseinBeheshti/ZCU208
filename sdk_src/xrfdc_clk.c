/******************************************************************************
*
* Copyright (C) 2018 Xilinx, Inc.  All rights reserved.
*
* Permission is hereby granted, free of charge, to any person obtaining a copy
* of this software and associated documentation files (the "Software"), to deal
* in the Software without restriction, including without limitation the rights
* to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
* copies of the Software, and to permit persons to whom the Software is
* furnished to do so, subject to the following conditions:
*
* The above copyright notice and this permission notice shall be included in
* all copies or substantial portions of the Software.
*
* THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
* IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
* FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
* XILINX  BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
* WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF
* OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
* SOFTWARE.
*
* Except as contained in this notice, the name of the Xilinx shall not be used
* in advertising or otherwise to promote the sale, use or other dealings in
* this Software without prior written authorization from Xilinx.
*
******************************************************************************/
/****************************************************************************/
/**
*
* @file xrfdc_clk.c
*
* This file contains a programming example for using the lmx2594 and lmk04028
* clock generator.
* This example configures the lmx2594  to 20 frequencies. If 0 is passed
* then the chip is powered down.
*
*
* <pre>
*
* MODIFICATION HISTORY:
*
* Ver   Who    Date     Changes
* ----- -----  -------- -----------------------------------------------------
* 1.0   sd     04/11/18 First release
* 4.0   sd     05/22/18 Updated lmx configuration
* 5.0   sd     09/05/18 Updated lmx reset sequence
*
* </pre>
*
*****************************************************************************/


/***************************** Include Files ********************************/
#ifndef __BAREMETAL__
#include <string.h>
#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <limits.h>
#include <dirent.h>
#include <fcntl.h>
#include <errno.h>
#include <stdio.h>
#include <sys/types.h>
#include <sys/stat.h>
#include <sys/param.h>
#include <sys/ioctl.h>
#include <linux/i2c.h>
#include <linux/i2c-dev.h>

#define XIIC_BLOCK_MAX	16	/* Max data length */
#define I2C_SMBUS_WRITE	0
#define I2C_SMBUS_I2C_BLOCK  6

#else
#include "xparameters.h"
#include "sleep.h"
#include "xuartps.h"
#include "xiicps.h"
#include "xil_printf.h"
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
XIicPs Iic; /* Instance of the IIC Device */

#endif
#include "xrfdc_clk.h"

/******************** Constant Definitions **********************************/


/**************************** Type Definitions *******************************/


/***************** Macros (Inline Functions) Definitions *********************/


/************************** Function Prototypes ******************************/


/************************** Variable Definitions *****************************/


XClockingLmk ClockingLmk[] = {
	// 0 - Without MTS
	//LMK04208_ZCU111_revAB_CKin1=12M8_VCO=3072M_Out=122M88
	{122880, //Fosc freq (KHz)
	 -1,     //axi clock Freq (KHz)
	 -1,     //sysref freq (KHz)
	 12800,  //refclk Freq (KHz)
	 2,     //refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x80140320,0x80140321,0x80140322,0xC0140023,
	  0x40140024,0x80141E05,0x03300006,0x01300007,0x06010008,
	  0x55555549,0x9102410A,0x0401100B,0x1B0C006C,0x2302886D,
	  0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	  0x8FA8001A,0x10001E1B,0x0021201C,0x0180033D,0x0200033E,0x003F001F}},

	// 1 - With MTS - 184M axis clk
	{-1, 		//Fosc freq (KHz)
	 184000, 	//axi clock Freq (KHz)
	 -1, 		//sysref freq (KHz)
	 -1, 		//refclk Freq (KHz)
	 -1, 		//refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x80140320,0x80140321,0x80140322,0xC0140023,0x40140024,
	 0x80141E05,0x03300006,0x01300007,0x06010008,0x55555549,0x9102410A,
	 0x0401100B,0x1B0C006C,0x2302886D,0x0200000E,0x8000800F,0xC1550410,
	 0x00000058,0x02C9C419,0x8FA8001A,0x10001E1B,0x0021201C,0x0180033D,
	 0x0200033E,0x003F001F}},

	// 2 - With MTS - 92.16M axis clk
	{-1, 		//Fosc freq (KHz)
	 92160, 	//axi clock Freq (KHz)
	 -1, 		//sysref freq (KHz)
	 -1, 		//refclk Freq (KHz)
	 -1, 		//refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x00143000,0x00143001,0x00140402,0xC0140023,
	  0x40140024,0x80141E05,0x01100006,0x01100007,0x06010008,
	  0x55555549,0x9102410A,0x0401100B,0x1B0C006C,0x2302886D,
	  0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	  0x8FA8001A,0x10001E1B,0x0021201C,0x0180031D,0x0200031E,0x003F001F}},

	// 3 - With MTS - 92.16M axis clk 5.76M SYSREF
	{-1, 		//Fosc freq (KHz)
	 92160, 	//axi clock Freq (KHz)
	 5760, 		//sysref freq (KHz)
	 -1, 		//refclk Freq (KHz)
	 -1, 		//refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x00144000,0x00144001,0x00140402,0xC0140023,
	  0x40140024,0x80141E05,0x01100006,0x01100007,0x06010008,
	  0x55555549,0x9102410A,0x0401100B,0x1B0C006C,0x2302886D,
	  0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	  0x8FA8001A,0x10001E1B,0x0021201C,0x0180031D,0x0200031E,0x003F001F}},

	// 4 - With MTS - 92.16M axis clk 5.76M SYSREF with Ext 12.8M clock
	{-1, 		//Fosc freq (KHz)
	 92160, 	//axi clock Freq (KHz)
	 5760, 		//sysref freq (KHz)
	 12800, 	//refclk Freq (KHz)
	 1, 		//refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x00144000,0x00144001,0x00140402,0xC0140023,
	  0x40140024,0x80141E05,0x01100006,0x01100007,0x06010008,
	  0x55555549,0x9102410A,0x0401100B,0x1B0C006C,0x2302886D,
	  0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	  0x8FA8001A,0x10001E1B,0x0021201C,0x0180031D,0x0200031E,0x003F001F}},


	// 5 - With MTS - 184.32M axis clk 5.76M SYSREF with Ext 12.8M clock
	{122880,	//Fosc freq (KHz)
	 184320, 	//axi clock Freq (KHz)
	 5760, 		//sysref freq (KHz)
	 12800, 	//refclk Freq (KHz)
	 1, 		//refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x00144000,0x00144001,0x00140202,0xC0140023,
	  0x40140024,0x80141E05,0x01100006,0x01100007,0x06010008,
	  0x55555549,0x9102410A,0x0401100B,0x1B0C006C,0x2302806D,
	  0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	  0x8FA8001A,0x10001E1B,0x0021201C,0x0180031D,0x0200031E,0x003F001F}},

	// 6 - With MTS - 491.52M axis clk 5.76M SYSREF with Ext 12.8M clock
	{-1,		//Fosc freq (KHz)
	 491520, 	//axi clock Freq (KHz)
	 5760, 		//sysref freq (KHz)
	 12800, 	//refclk Freq (KHz)
	 1, 		//refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	{0x00160040,0x00144000,0x00144001,0x001400C2,0xC0140023,
	 0x40140024,0x80141E05,0x01100006,0x01100007,0x06010008,
	 0x55555549,0x9102410A,0x0401100B,0x1B0C006C,0x2302886D,
	 0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	 0x8FA8001A,0x10001E1B,0x0021201C,0x0180031D,0x0200031E,0x003F001F}},

	// 7 - With MTS - 184.32M axis clk 5.76M SYSREF with Int 12.8M clock
	{122880,	//Fosc freq (KHz)
	 184320, 	//axi clock Freq (KHz)
	 5760, 		//sysref freq (KHz)
	 12800, 	//refclk Freq (KHz)
	 0, 		//refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x00144000,0x00144001,0x00140202,0xC0140023,
	  0x40140024,0x80141E05,0x01100006,0x01100007,0x06010008,
	  0x55555549,0x9102410A,0x0401100B,0x1B0C006C,0x2302826D,
	  0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	  0x8FA8001A,0x10001E1B,0x0021201C,0x0180031D,0x0200031E,0x003F001F}},

	// 8 - Old settings
	//LMK04208_ZCU111_revAB_0delay_sync_CKin1=7p68M_VCO=3072M_Out=122M88
	{122880, //Fosc freq (KHz)
	 -1, //axi clock Freq (KHz)
	 -1, //sysref freq (KHz)
	 -1, //refclk Freq (KHz)
	 -1, //refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x00503200,0x00503201,0x00500322,0xC0140023,
	  0x00500324,0x00503205,0x03300006,0x01300007,0x0C010008,
	  0x55555549,0x9102490A,0x1403900B,0x1B0C006C,0x2302886D,
	  0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	  0x8FA8001A,0x1000101B,0x0020101C,0x0180033D,0x0200033E,0x003F001F}},

	// 9 - Old settings
	//LMK04208_ZCU111_revAB_CKin1=12M8_VCO=3072M_Out=122M88_MTS
	{122880, //Fosc freq (KHz)
	 -1, //axi clock Freq (KHz)
	 -1, //sysref freq (KHz)
	 -1, //refclk Freq (KHz)
	 -1, //refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x00143200,0x00143201,0x00140322,0xC0140023,
	  0x40140024,0x80141E05,0x01100006,0x01100007,0x06010008,
	  0x55555549,0x9102410A,0x0401100B,0x1B0C006C,0x2302886D,
	  0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	  0x8FA8001A,0x10001E1B,0x0021201C,0x0180033D,0x0200033E,0x003F001F}},

	// 10 - With MTS - 384.00M axis clk 4.00M SYSREF with Internal 12.8M clock
	{122880, //Fosc freq (KHz)
	 384000, //axi clock Freq (KHz)
	 4000, //sysref freq (KHz)
	 12800, //refclk Freq (KHz)
	 0, //refClkSrc -1=dontDisplay 0=internal 1=external 2=auto
	 {0x00160040,0x00146000,0x00146001,0x00140102,0xC0140023,
	  0x40140024,0x80141E05,0x01100006,0x01100007,0x06010008,
	  0x55555549,0x9102410A,0x0401100B,0x1B0C006C,0x2302886D,
	  0x0200000E,0x8000800F,0xC1550410,0x00000058,0x02C9C419,
	  0x8FA8001A,0x10001E1B,0x0021201C,0x0180033D,0x0200033E,0x003F001F}}

};  


XClockingLmx ClockingLmx[] = {
	{5120000, /* 0 */ 
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 4918080, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512,
		2686976, 2621440, 2555905, 2490368, 2425604, 2359376, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372, }},
	{3932160, /* 1 */
		{7340032, 7274496, 7208960, 7143424, 7077888,
		7012352, 6946816, 6881313, 6815744, 6750208, 6700928, 6619153, 6553600,
		6488064, 6423040, 6359176, 6291456, 6225920, 6160384, 6094848, 6029312,
		5963776, 5898240, 5832704, 5767168, 5701632, 5636096, 5624576, 5505025,
		5439488, 5381632, 5308416, 5269094, 5177382, 5111811, 5046272, 4980748,
		4917248, 4849664, 4784191, 4718593, 4653185, 4637520, 4521984, 4457448,
		4390912, 4325876, 4259840, 4199304, 4128768, 4064034, 3997864, 3932160,
		3866625, 3833857, 3735584, 3670016, 3604480, 3538944, 3473408, 3409952,
		3342464, 3276800, 3228032, 3146496, 3080960, 3016700, 2998476, 2886691,
		2818048, 2752512, 2686976, 2621440, 2555905, 2490368, 2425604, 2359360,
		2293764, 2228224, 2170401, 2098067, 2049004, 1978764, 1913228, 1836168,
		1769474, 1707440, 1639972, 1574682, 1507452, 1441793, 1377281, 1368136,
		1255351, 1179748, 1114412, 1048704, 984655, 925264, 868352, 806913,
		720920, 659672, 591364, 532480, 475314, 444418, 327880, 264771, 198210,
		132352, 67592, 9372, }},
	{1474560, /* 2 */
		{0x700000,0x6F0000,0x6E0000,0x6D0000,0x6C0000,0x6B0000,0x6A0000,
		0x690021,0x680000,0x670000,0x663F80,0x650011,0x640000,0x630000,
		0x620200,0x610888,0x600000,0x5F0000,0x5E0000,0x5D0000,0x5C0000,
		0x5B0000,0x5A0000,0x590000,0x580000,0x570000,0x560000,0x55D300,
		0x540001,0x530000,0x521E00,0x510000,0x506666,0x4F0026,0x4E0003,
		0x4D0000,0x4C000C,0x4B0880,0x4A0000,0x49003F,0x480001,0x470081,
		0x46C350,0x450000,0x4403E8,0x430000,0x4201F4,0x410000,0x401388,
		0x3F0000,0x3E0322,0x3D00A8,0x3C0000,0x3B0001,0x3A8001,0x390020,
		0x380000,0x370000,0x360000,0x350000,0x340820,0x330080,0x320000,
		0x314180,0x300300,0x2F0300,0x2E07FC,0x2DC0CC,0x2C0C23,0x2B0000,
		0x2A0000,0x290000,0x280000,0x270001,0x260000,0x250304,0x240048,
        0x230004,0x220000,0x211E21,0x200393,0x1F43EC,0x1E318C,0x1D318C,
		0x1C0488,0x1B0002,0x1A0DB0,0x190624,0x18071A,0x17007C,0x160001,
		0x150401,0x14E048,0x1327B7,0x120064,0x11012C,0x100080,0x0F064F,
		0x0E1E70,0x0D4000,0x0C5001,0x0B0018,0x0A10D8,0x090604,0x082000,
		0x0740B2,0x06C802,0x0500C8,0x040A43,0x030642,0x020500,0x010808,0x00249C }},

	{4915200, /* 3 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704, 5767168,
		5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416, 5269094, 5177382,
		5111811, 5046272, 4980748, 4917248, 4849664, 4784191, 4718593, 4653185, 4637520,
		4521984, 4457448, 4390912, 4325876, 4259840, 4199304, 4128768, 4064034, 3997864,
		3932160, 3866625, 3833857, 3735584, 3670016, 3604480, 3538944, 3473408, 3409952,
		3342464, 3276800, 3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048,
		2752512, 2686976, 2621440, 2555905, 2490368, 2425604, 2359376, 2293764, 2228224,
		2170401, 2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412, 1048704,
		984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480, 475314, 444418,
		327880, 264771, 198210, 132352, 67592, 9372 }},
	{6553600, /* 4 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2768896, 2686976,
		2621440, 2555905, 2514944, 2425860, 2359402, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{6400000,  /* 5 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818049, 2752512, 2686976,
		2621440, 2555910, 2490368, 2425860, 2359400, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{6389760,  /* 6 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512, 2686976,
		2621440, 2555905, 2490368, 2425860, 2359400, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704,  0x0F064F, 0x0E1E70, 0x0D4000, 0x0C5001, 0x0B0018, 0x0A10D8, 0x090604,
		0x082000, 0x0740B2, 0x06C802, 0x0500C8, 0x040A43, 0x030642, 0x020500, 0x010808,
		0x00249C }},
	{6144000,  /* 7 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512, 2686976,
		2621440, 2555905, 2490368, 2425860, 2359396, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{5898240,  /* 8 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512, 2686976,
		2621440, 2555905, 2490368, 2425860, 2359392, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{5734400,  /* 9 */
		{340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818049, 2752512, 2686976,
		2621440, 2555907, 2490368, 2425860, 2359389, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{4000000,  /* 10 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818053, 2752512, 2686976,
		2621440, 2555952, 2490368, 2425604, 2359361, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{4096000,  /* 11 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818050, 2752512, 2686976,
		2621440, 2555907, 2490368, 2425604, 2359362, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{4423680,  /* 12 */
		{7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512, 2686976,
		2621440, 2555905, 2490368, 2425604, 2359368, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{4669440,  /* 13 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917248, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512, 2686976,
		2621440, 2555905, 2490368, 2425604, 2359372, 2293764, 2228224, 2170401,
		2098067, 2032620, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{1966080,  /* 14 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 4917312, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512,
		2686976, 2621440, 2555905, 2490368, 2425604, 2359360, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{2048000,  /* 15 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 4917312, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818050, 2752512,
		2686976, 2621440, 2555907, 2490368, 2425604, 2359362, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{2457600,  /* 16 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 0x4B09C0, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512,
		2686976, 2621440, 2555905, 2490368, 2425604, 0x240040, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372}},
	{2949120,  /* 17 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 4917312, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512,
		2686976, 2621440, 2555905, 2490368, 2425860, 2359392, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372}},
	{3072000,  /* 18 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917312, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512, 2686976,
		2621440, 2555905, 2490368, 2425860, 2359396, 2293764, 2228224, 2170401,
		2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372}},
	{3276800,  /* 19 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917312, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818050, 2752512, 2686976,
		2621440, 2555907, 2490368, 2425860, 2359402, 2293764, 2228224, 2170401,
		2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{245760,  /* 20 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 4917696, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512,
		2686976, 2621440, 2555905, 2490368, 2425604, 2359360, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372}},
	{3686400,  /* 21 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4917312, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512, 2686976,
		2621440, 2555905, 2490368, 2425860, 2359416, 2293764, 2228224, 2170401,
		2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364, 532480,
		475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{204800,  /* 22 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 4917760, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512,
		2686976, 2621440, 2555905, 2490368, 2425604, 2359376, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372}},
	{409600,  /* 23 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 4917632, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512,
		2686976, 2621440, 2555905, 2490368, 2425604, 2359376, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{491520,  /* 24 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 4917568, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512,
		2686976, 2621440, 2555905, 2490368, 2425604, 2359360, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372 }},
	{737280,  /* 25 */
		{7340032, 7274496, 7208960, 7143424, 7077888, 7012352, 6946816,
		6881313, 6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040,
		6359176, 6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240,
		5832704, 5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632,
		5308416, 5269094, 5177382, 5111811, 5046272, 4980748, 4917504, 4849664,
		4784191, 4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876,
		4259840, 4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857,
		3735584, 3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800,
		3228032, 3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512,
		2686976, 2621440, 2555905, 2490368, 2425604, 2359368, 2293764, 2228224,
		2170401, 2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440,
		1639972, 1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748,
		1114412, 1048704, 984655, 925296, 868352, 806913, 720920, 659672, 591364,
		532480, 475314, 444418, 327880, 264771, 198210, 132352, 67592, 9372}},
	{7340032,  /* 26 */
		{7274496, 7208960, 7143424, 7077888, 7012352, 6946816, 6881313,
		6815744, 6750208, 6700928, 6619153, 6553600, 6488064, 6423040, 6359176,
		6291456, 6225920, 6160384, 6094848, 6029312, 5963776, 5898240, 5832704,
		5767168, 5701632, 5636096, 5624576, 5505025, 5439488, 5381632, 5308416,
		5269094, 5177382, 5111811, 5046272, 4980748, 4918080, 4849664, 4784191,
		4718593, 4653185, 4637520, 4521984, 4457448, 4390912, 4325876, 4259840,
		4199304, 4128768, 4064034, 3997864, 3932160, 3866625, 3833857, 3735584,
		3670016, 3604480, 3538944, 3473408, 3409952, 3342464, 3276800, 3228032,
		3146496, 3080960, 3016700, 2998476, 2886691, 2818048, 2752512, 2686976,
		2621440, 2555905, 2490368, 2425604, 2359376, 2293764, 2228224, 2170401,
		2098067, 2049004, 1978764, 1913228, 1836168, 1769474, 1707440, 1639972,
		1574682, 1507452, 1441793, 1377281, 1368136, 1255351, 1179748, 1114412,
		1048704,  984655,  925296,  868352,  806913,  720920,  659672,  591364,
    	532480,   475314,  444418,  327880,  264771,  198210,  132352,   67592, 9372}},
	{3194880,  /* 27 */
		{0x700000, 0x6F0000, 0x6E0000, 0x6D0000, 0x6C0000, 0x6B0000, 0x6A0000, 0x690021,
		0x680000, 0x670000, 0x663F80, 0x650011, 0x640000, 0x630000, 0x620200, 0x610888,
		0x600000, 0x5F0000, 0x5E0000, 0x5D0000, 0x5C0000, 0x5B0000, 0x5A0000, 0x590000,
		0x580000, 0x570000, 0x560000, 0x55D300, 0x540001, 0x530000, 0x521E00, 0x510000,
		0x506666, 0x4F0026, 0x4E0003, 0x4D0000, 0x4C000C, 0x4B0840, 0x4A0000, 0x49003F,
		0x480001, 0x470081, 0x46C350, 0x450000, 0x4403E8, 0x430000, 0x4201F4, 0x410000,
		0x401388, 0x3F0000, 0x3E0322, 0x3D00A8, 0x3C0000, 0x3B0001, 0x3A8001, 0x390020,
		0x380000, 0x370000, 0x360000, 0x350000, 0x340820, 0x330080, 0x320000, 0x314180,
		0x300300, 0x2F0300, 0x2E07FC, 0x2DC0CC, 0x2C0C23, 0x2B0000, 0x2A0000, 0x290000,
		0x280000, 0x270001, 0x260000, 0x250404, 0x240068, 0x230004, 0x220000, 0x211E21,
		/* fixed SEG1_EN due to channel divider=4 */
		0x200393, 0x1F43EC, 0x1E318C, 0x1D318C, 0x1C0488, 0x1B0002, 0x1A0DB0, 0x190624,
		0x18071A, 0x17007C, 0x160001, 0x150401, 0x14E048, 0x1327B7, 0x120064, 0x11012C,
		0x100080, 0x0F064F, 0x0E1E70, 0x0D4000, 0x0C5001, 0x0B0018, 0x0A10D8, 0x090604,
		0x082000, 0x0740B2, 0x06C802, 0x0500C8, 0x040A43, 0x030642, 0x020500, 0x010808, 0x00249C}},
	{122880, /* 28 ZCU111_RevA_01152018_U102_103_104__LMX2594_122.88MHz */
		{0x700000, 0x6F0000, 0x6E0000, 0x6D0000, 0x6C0000, 0x6B0000, 0x6A0000, 0x690021,
		0x680000, 0x670000, 0x660000, 0x650011, 0x640000, 0x630000, 0x620000, 0x610888,
		0x600000, 0x5F0000, 0x5E0000, 0x5D0000, 0x5C0000, 0x5B0000, 0x5A0000, 0x590000,
		0x580000, 0x570000, 0x560000, 0x550000, 0x540000, 0x530000, 0x520000, 0x510000,
		0x500000, 0x4F0000, 0x4E00E5, 0x4D0000, 0x4C000C, 0x4B0A40, 0x4A0000, 0x49003F,
		0x480001, 0x470081, 0x46C350, 0x450000, 0x4403E8, 0x430000, 0x4201F4, 0x410000,
		0x401388, 0x3F0000, 0x3E0322, 0x3D00A8, 0x3C0000, 0x3B0001, 0x3A0001, 0x390020,
		0x380000, 0x370000, 0x360000, 0x350000, 0x340820, 0x330080, 0x320000, 0x314180,
		0x300300, 0x2F0300, 0x2E07FC, 0x2DC0D8, 0x2C1821, 0x2B0000, 0x2A0000, 0x290000,
		0x280000, 0x2703E8, 0x260000, 0x250104, 0x240020, 0x230004, 0x220000, 0x211E21,
		0x200393, 0x1F43EC, 0x1E318C, 0x1D318C, 0x1C0488, 0x1B0002, 0x1A0DB0, 0x190624,
		0x18071A, 0x17007C, 0x160001, 0x150401, 0x14C848, 0x1327B7, 0x120064, 0x1101F4,
		0x100080, 0x0F064F, 0x0E1E70, 0x0D4000, 0x0C5001, 0x0B0018, 0x0A10D8, 0x091604,
		0x082000, 0x0740B2, 0x06C802, 0x0500C8, 0x040A43, 0x030642, 0x020500, 0x010808, 0x00259C}}
};
    
// Define must be after array creation
#define SIZEOF_LMX (sizeof(ClockingLmx)/sizeof(ClockingLmx[0]))
    
    
#ifndef __BAREMETAL__
    
static inline void IicWriteData(int XIicDevFile, unsigned char command,
                                                  unsigned char length,
                                                  const unsigned char *values)
{
	struct i2c_smbus_ioctl_data args;
	unsigned char Block[XIIC_BLOCK_MAX];
	int Index;
#ifdef LDEBUG
	printf("%s:%d entered\r\n", __func__, __LINE__);
#endif
	for (Index = 1; Index <= length; Index++)
		Block[Index] = values[Index-1];
	Block[0] = length;
	args.read_write = I2C_SMBUS_WRITE;
	args.command = command;
	args.size = I2C_SMBUS_I2C_BLOCK;
	args.data = (i2c_smbus_data *)Block;
	ioctl(XIicDevFile,I2C_SMBUS,&args);
}

static void Lmx2594Updatei2c(int XIicDevFile,unsigned int  r[LMX2594_A_count], unsigned char ss_flag)
{
	int Index=0;
	unsigned char tx_array[3];
/*
 * 1. Apply power to device.
 * 2. Program RESET = 1 to reset registers.
 * 3. Program RESET = 0 to remove reset.
 * 4. Program registers as shown in the register map in REVERSE order from highest to lowest.
 * 5. Program register R0 one additional time with FCAL_EN = 1 to ensure that the VCO calibration runs from a
 *  stable state.
 */
#ifdef LDEBUG
	printf("%s:%d entered\r\n", __func__, __LINE__);
#endif
	tx_array[2] = 0x2;
	tx_array[1] = 0;
	tx_array[0] = 0;
	IicWriteData(XIicDevFile, ss_flag, 3, tx_array);
	usleep(100000);
	tx_array[2] = 0;
	tx_array[1] = 0;
	tx_array[0] = 0;
	IicWriteData(XIicDevFile, ss_flag, 3, tx_array);
	usleep(100000);
	for (Index = 0; Index < LMX2594_A_count; Index++) {
		tx_array[2] = (unsigned char) (r[Index]) & (0xFF);
		tx_array[1] = (unsigned char) (r[Index] >> 8) & (0xFF);
		tx_array[0] = (unsigned char) (r[Index] >> 16) & (0xFF);
		IicWriteData(XIicDevFile, ss_flag, 3, tx_array);
		usleep(100000);
	}
	/* FCAL_EN = 1 */
	tx_array[2] = (unsigned char) (r[112]) & (0xFF);
	tx_array[1] = (unsigned char) (r[112] >> 8) & (0xFF);
	tx_array[0] = (unsigned char) (r[112] >> 16) & (0xFF);
#ifdef LDEBUG
	printf("%s:%d LMX configured\r\n", __func__, __LINE__);
#endif
	IicWriteData(XIicDevFile, ss_flag, 3, tx_array);
}


static int Lmx2594UpdateDACFreq(int XIicDevFile,int  XFrequency)
{
	int XFreqIndex=0;
	unsigned char tx_array[3];
    
#ifdef LDEBUG
	printf("%s:%d entered\r\n", __func__, __LINE__);
#endif
	if (XFrequency == 0) {
		tx_array[2] = 0x3;
		tx_array[1] = 0;
		tx_array[0] = 0;

		IicWriteData(XIicDevFile, RF3_DAC0_1_2594_C_SS, 3, tx_array);
		return 0;
	}
	for(XFreqIndex=0 ; XFreqIndex<SIZEOF_LMX; XFreqIndex++) {
		if (ClockingLmx[XFreqIndex].XFrequency == XFrequency) {
			printf("%s:%d Found DAC Freq: %d\r\n", __func__, __LINE__, XFrequency);
			Lmx2594Updatei2c( XIicDevFile, ClockingLmx[XFreqIndex].LMX2594_A, RF3_DAC0_1_2594_C_SS);
			return 0;
		}
	}

	printf("%s:%d Error: configuring default Frequency\r\n", __func__, __LINE__);
	Lmx2594Updatei2c( XIicDevFile, ClockingLmx[0].LMX2594_A, RF3_DAC0_1_2594_C_SS);
	return 0;
}


static int Lmx2594UpdateADCFreq(int XIicDevFile,int  XFrequency)
{
	int XFreqIndex=0;
	unsigned char tx_array[3];
    
#ifdef LDEBUG
	printf("%s:%d entered\r\n", __func__, __LINE__);
#endif
	if (XFrequency == 0) {
		tx_array[2] = 0x3;
		tx_array[1] = 0;
		tx_array[0] = 0;

		IicWriteData(XIicDevFile, RF1_ADC0_1_2594_A_SS | RF2_ADC2_3_2594_B_SS, 3, tx_array);
		return 0;
	}
	for(XFreqIndex=0 ; XFreqIndex<SIZEOF_LMX; XFreqIndex++) {
		if (ClockingLmx[XFreqIndex].XFrequency == XFrequency) {
			printf("%s:%d Found ADC Freq: %d\r\n", __func__, __LINE__, XFrequency);
			Lmx2594Updatei2c( XIicDevFile, ClockingLmx[XFreqIndex].LMX2594_A, RF1_ADC0_1_2594_A_SS | RF2_ADC2_3_2594_B_SS);
			return 0;
		}
	}

	printf("%s:%d Error: configuring default Frequency\r\n", __func__, __LINE__);
	Lmx2594Updatei2c( XIicDevFile, ClockingLmx[0].LMX2594_A, RF1_ADC0_1_2594_A_SS | RF2_ADC2_3_2594_B_SS);
	return 0;
}


static int Lmk04208UpdateFreq(int XIicDevFile, int LMK04208_configIndex )
{
	int Index;
	unsigned char tx_array[4];
#ifdef LDEBUG
	printf("%s:%d entered\r\n", __func__, __LINE__);
#endif
	for (Index = 0; Index < LMK04208_count; Index++) {
		tx_array[3] = (unsigned char) (ClockingLmk[LMK04208_configIndex].data[Index]) & (0xFF);
		tx_array[2] = (unsigned char) (ClockingLmk[LMK04208_configIndex].data[Index] >> 8) & (0xFF);
		tx_array[1] = (unsigned char) (ClockingLmk[LMK04208_configIndex].data[Index] >> 16) & (0xFF);
		tx_array[0] = (unsigned char) (ClockingLmk[LMK04208_configIndex].data[Index] >> 24) & (0xFF);
		IicWriteData(XIicDevFile, LMK4208_SS, 4, tx_array);
		usleep(1000);
	}
	return 0;
}
#endif

/****************************************************************************/
/**
*
* This function is used to configure LMK04208
*
* @param	XIicBus is the Controller Id/Bus number.
*           - For Baremetal it is the I2C controller Id to which LMK04208
*             device is connected.
*           - For Linux it is the Bus Id to which LMK04208 device is connected.
* @param	LMK04208_CKin is the configuration array to configure the LMK04208.
*
* @return
*		- None
*
* @note   	None
*
****************************************************************************/
void LMK04208ClockConfig(int XIicBus, int LMK04208_configIndex)
{
    
#ifdef LDEBUG
	printf("%s:%d entered\r\n", __func__, __LINE__);
#endif

#ifdef __BAREMETAL__
	XIicPs_Config *Config_iic;
	int Status;
	u8 tx_array[10];
	u8 rx_array[10];
	u32 ClkRate = 100000;
	int Index;

	Config_iic = XIicPs_LookupConfig(XIicBus);
	if (NULL == Config_iic) {
		return;
	}

	Status = XIicPs_CfgInitialize(&Iic, Config_iic, Config_iic->BaseAddress);
	if (Status != XST_SUCCESS) {
		return;
	}

	Status = XIicPs_SetSClk(&Iic, ClkRate);
	if (Status != XST_SUCCESS) {
		return;
	}

	/*
	 * 0x02-enable Super clock module 0x20- analog I2C power module slaves
	 */
	tx_array[0] = 0x20;
	XIicPs_MasterSendPolled(&Iic, tx_array, 0x01, 0x74);
	while (XIicPs_BusIsBusy(&Iic))
		;
	usleep(25000);

	/*
	 * Receive the Data.
	 */
	Status = XIicPs_MasterRecvPolled(&Iic, rx_array, 1, 0x74);
	if (Status != XST_SUCCESS) {
		return;
	}

	/*
	 * Wait until bus is idle to start another transfer.
	 */
	while (XIicPs_BusIsBusy(&Iic))
		;


	/*
	 * Function Id.
	 */
	tx_array[0] = 0xF0;
	tx_array[1] = 0x02;
	XIicPs_MasterSendPolled(&Iic, tx_array, 0x02, 0x2F);
	while (XIicPs_BusIsBusy(&Iic))
		;
	usleep(25000);

	/*
	 * Receive the Data.
	 */
	Status = XIicPs_MasterRecvPolled(&Iic, rx_array,
			2, 0x2F);
	if (Status != XST_SUCCESS) {
		return;
	}

	/*
	 * Wait until bus is idle to start another transfer.
	 */
	while (XIicPs_BusIsBusy(&Iic));


	for (Index = 0; Index < LMK04208_count; Index++) {
		tx_array[0] = 0x02;
		tx_array[4] = (u8) (ClockingLmk[LMK04208_configIndex].data[Index]) & (0xFF);
		tx_array[3] = (u8) (ClockingLmk[LMK04208_configIndex].data[Index] >> 8) & (0xFF);
		tx_array[2] = (u8) (ClockingLmk[LMK04208_configIndex].data[Index] >> 16) & (0xFF);
		tx_array[1] = (u8) (ClockingLmk[LMK04208_configIndex].data[Index] >> 24) & (0xFF);
		Status = XIicPs_MasterSendPolled(&Iic, tx_array, 0x05, 0x2F);
		usleep(25000);
		while (XIicPs_BusIsBusy(&Iic))
			;
	}

	sleep(2);

	xil_printf("LMK04208 configuration write done\r\n");

#else
	int XIicDevFile;
	char XIicDevFilename[20];

	sprintf(XIicDevFilename, "/dev/i2c-%d", XIicBus);
#ifdef LDEBUG
	printf("%s:%d DevFilename: %s\r\n", __func__, __LINE__, XIicDevFilename);
#endif
	XIicDevFile = open(XIicDevFilename, O_RDWR);

	if (ioctl(XIicDevFile, I2C_SLAVE_FORCE, 0x2f) < 0) {
		printf("%s:%d Error: Could not set address\r\n", __func__, __LINE__);
		return ;
	}

	Lmk04208UpdateFreq( XIicDevFile, LMK04208_configIndex);
	close(XIicDevFile);
#endif
}

/****************************************************************************/
/**
*
* This function is used to configure LMX2594
*
* @param	XIicBus is the Controller Id/Bus number.
*           - For Baremetal it is the I2C controller Id to which LMX2594 device
*             is connected.
*           - For Linux it is the Bus Id to which LMX2594 device is connected.
* @param	XFrequency is the frequency used to configure the LMX2594.
*
* @return
*		- None
*
* @note   	None
*
****************************************************************************/
void LMX2594ClockConfig(int XIicBus, int DacXFrequency, int AdcXFrequency)
{
#ifdef LDEBUG
	printf("%s:%d Requested DAC Freq: %d\r\n", __func__, __LINE__, DacXFrequency);
	printf("%s:%d Requested ADC Freq: %d\r\n", __func__, __LINE__, AdcXFrequency);
#endif

#ifdef __BAREMETAL__
	XIicPs_Config *Config_iic;
	int Status;
	u8 tx_array[10];
	u8 rx_array[10];
	u32 ClkRate = 100000;
	int Index;
	int dacFreq_index=0;
	int adcFreq_index=0;
	int XFreqIndex;
	char buf[40];

	for(XFreqIndex=0 ; XFreqIndex<SIZEOF_LMX; XFreqIndex++) {
		if (ClockingLmx[XFreqIndex].XFrequency == DacXFrequency) {
			dacFreq_index =XFreqIndex;

			printf("LMX2594's DAC clocks set to ");
			stringCnv_KHz_2_HZ(DacXFrequency, buf);
//			printf("%16s Hz (%8dKHz)\n\r", buf, DacXFrequency);
			printf("%16s Hz\n\r", buf);
			break;
		}
	}

	for(XFreqIndex=0 ; XFreqIndex<SIZEOF_LMX; XFreqIndex++) {
		if (ClockingLmx[XFreqIndex].XFrequency == AdcXFrequency) {
			adcFreq_index =XFreqIndex;

			printf("LMX2594's ADC clocks set to ");
			stringCnv_KHz_2_HZ(AdcXFrequency, buf);
//			printf("%16s Hz (%8dKHz)\n\r", buf, AdcXFrequency);
			printf("%16s Hz\n\r", buf);
			break;
		}
	}

	xil_printf("Configuring the LMX2594 PLL.");
	xil_printf(".");

	Config_iic = XIicPs_LookupConfig(XIicBus);
	if (NULL == Config_iic) {
		return;
	}

	Status = XIicPs_CfgInitialize(&Iic, Config_iic, Config_iic->BaseAddress);
	if (Status != XST_SUCCESS) {
		return;
	}

	Status = XIicPs_SetSClk(&Iic, ClkRate);
	if (Status != XST_SUCCESS) {
		return;
	}

	/*
	 * 0x02-enable Super clock module 0x20- analog I2C power module slaves
	 */
	tx_array[0] = 0x20;
	xil_printf(".");

	XIicPs_MasterSendPolled(&Iic, tx_array, 0x01, 0x74);
	while (XIicPs_BusIsBusy(&Iic))
		;
	usleep(25000);
	xil_printf(".");

	/*
	 * Receive the Data.
	 */
	Status = XIicPs_MasterRecvPolled(&Iic, rx_array, 1, 0x74);
	if (Status != XST_SUCCESS) {
		xil_printf(".");
		return;
	}

	/*
	 * Wait until bus is idle to start another transfer.
	 */
	while (XIicPs_BusIsBusy(&Iic))
		;

	/*
	 * Function Id.
	 */
	xil_printf(".");

	tx_array[0] = 0xF0;
	tx_array[1] = 0x02;
	XIicPs_MasterSendPolled(&Iic, tx_array, 0x02, 0x2F);
	xil_printf(".");

	while (XIicPs_BusIsBusy(&Iic))
		;
	usleep(25000);

	/*
	 * Receive the Data.
	 */
	Status = XIicPs_MasterRecvPolled(&Iic, rx_array,
			2, 0x2F);
	if (Status != XST_SUCCESS) {
		xil_printf(".");
		return;
	}

	/*
	 * Wait until bus is idle to start another transfer.
	 */
	while (XIicPs_BusIsBusy(&Iic));
	xil_printf(".");

	tx_array[0]=0x08;
	tx_array[3]=(u8) (0x00);
	tx_array[2]=(u8) (0x00);
	tx_array[1]=(u8) (0x20);
	Status = XIicPs_MasterSendPolled(&Iic,tx_array,0x04,0x2F);
	while (XIicPs_BusIsBusy(&Iic));
	xil_printf(".");

	sleep(2);

	//////////////////////////////////////////////////////
	//LE_2594_A, LMX2594-RF1 PLL
	tx_array[0]=0x08;
	tx_array[3]=(u8) (0x00);
	tx_array[2]=(u8) (0x00);
	tx_array[1]=(u8) (0x00);
	Status = XIicPs_MasterSendPolled(&Iic,tx_array,0x04,0x2F);
	while (XIicPs_BusIsBusy(&Iic));
	xil_printf(".");

	sleep(2);
	for (Index = 0; Index < LMX2594_A_count; Index++) {
		tx_array[0] = 0x08;
		tx_array[3] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[Index]) & (0xFF);
		tx_array[2] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[Index] >> 8) & (0xFF);
		tx_array[1] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[Index] >> 16) & (0xFF);
		Status = XIicPs_MasterSendPolled(&Iic, tx_array, 0x04, 0x2F);
		while (XIicPs_BusIsBusy(&Iic))
			;
		usleep(25000);

	}
	xil_printf(".");

	tx_array[0] = 0x08;
	tx_array[3] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[112]) & (0xFF);
	tx_array[2] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[112] >> 8) & (0xFF);
	tx_array[1] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[112] >> 16) & (0xFF);
	Status = XIicPs_MasterSendPolled(&Iic, tx_array, 0x04, 0x2F);
	while (XIicPs_BusIsBusy(&Iic))
		;
	usleep(25000);
	xil_printf(".");

	//////////////////////////////////////////////////////
	//LE_2594_B, LMX2594-RF2 PLL
	tx_array[0]=0x04;
	tx_array[3]=(u8) (0x00);
	tx_array[2]=(u8) (0x00);
	tx_array[1]=(u8) (0x02);
	Status = XIicPs_MasterSendPolled(&Iic,tx_array,0x04,0x2F);
	while (XIicPs_BusIsBusy(&Iic));
	xil_printf(".");

	sleep(2);
	tx_array[0]=0x04;
	tx_array[3]=(u8) (0x00);
	tx_array[2]=(u8) (0x00);
	tx_array[1]=(u8) (0x00);
	Status = XIicPs_MasterSendPolled(&Iic,tx_array,0x04,0x2F);
	while (XIicPs_BusIsBusy(&Iic));

	sleep(2);
	for (Index = 0; Index < LMX2594_A_count; Index++) {
		tx_array[0] = 0x04;
		tx_array[3] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[Index]) & (0xFF);
		tx_array[2] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[Index] >> 8) & (0xFF);
		tx_array[1] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[Index] >> 16) & (0xFF);
		Status = XIicPs_MasterSendPolled(&Iic, tx_array, 0x04, 0x2F);
		while (XIicPs_BusIsBusy(&Iic))
			;
		usleep(25000);

	}

	tx_array[0]=0x04;
	tx_array[3] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[112]) & (0xFF);
	tx_array[2] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[112] >> 8) & (0xFF);
	tx_array[1] = (u8) (ClockingLmx[adcFreq_index].LMX2594_A[112] >> 16) & (0xFF);
	Status = XIicPs_MasterSendPolled(&Iic, tx_array, 0x04, 0x2F);
	xil_printf(".");

	while (XIicPs_BusIsBusy(&Iic))
		;
	usleep(25000);

	//////////////////////////////////////////////////////
	//LE_2594_C, LMX2594-RF3 PLL
	tx_array[0]=0x01;
	tx_array[3]=(u8) (0x00);
	tx_array[2]=(u8) (0x00);
	tx_array[1]=(u8) (0x02);
	Status = XIicPs_MasterSendPolled(&Iic, tx_array, 0x04, 0x2F);
	xil_printf(".");

	while (XIicPs_BusIsBusy(&Iic));
	sleep(2);
	xil_printf(".");

	tx_array[0]=0x01;
	tx_array[3]=(u8) (0x00);
	tx_array[2]=(u8) (0x00);
	tx_array[1]=(u8) (0x00);
	Status = XIicPs_MasterSendPolled(&Iic, tx_array, 0x04, 0x2F);
	while (XIicPs_BusIsBusy(&Iic));
	sleep(2);

	for (Index = 0; Index < LMX2594_A_count; Index++) {
		tx_array[0] = 0x01;
		tx_array[3] = (u8) (ClockingLmx[dacFreq_index].LMX2594_A[Index]) & (0xFF);
		tx_array[2] = (u8) (ClockingLmx[dacFreq_index].LMX2594_A[Index]>> 8) & (0xFF);
		tx_array[1] = (u8) (ClockingLmx[dacFreq_index].LMX2594_A[Index]>> 16) & (0xFF);
		Status = XIicPs_MasterSendPolled(&Iic, tx_array, 0x04, 0x2F);
		while (XIicPs_BusIsBusy(&Iic))
			;
		usleep(25000);
	}

	tx_array[0] = 0x01;
	tx_array[3] = (u8) (ClockingLmx[dacFreq_index].LMX2594_A[112]) & (0xFF);
	tx_array[2] = (u8) (ClockingLmx[dacFreq_index].LMX2594_A[112] >> 8) & (0xFF);
	tx_array[1] = (u8) (ClockingLmx[dacFreq_index].LMX2594_A[112] >> 16) & (0xFF);
	Status = XIicPs_MasterSendPolled(&Iic, tx_array, 0x04, 0x2F);
	while (XIicPs_BusIsBusy(&Iic))
		;
	usleep(25000);
	xil_printf("\n\rI2c1 I2CTOSPI LMX2594 PLL configuration done\r\n");

#else
	int XIicDevFile;
	char XIicDevFilename[20];

	sprintf(XIicDevFilename, "/dev/i2c-%d", XIicBus);
#ifdef LDEBUG
	printf("%s:%d DevFilename: %s\r\n", __func__, __LINE__, XIicDevFilename);
#endif
	XIicDevFile = open(XIicDevFilename, O_RDWR);

	if (ioctl(XIicDevFile, I2C_SLAVE_FORCE, 0x2f) < 0) {
		printf("%s:%d Error: Could not set address\r\n", __func__, __LINE__);
		return ;
	}

	Lmx2594UpdateDACFreq(XIicDevFile, DacXFrequency);
	Lmx2594UpdateADCFreq(XIicDevFile, AdcXFrequency);
#endif
}


void LMX2594DisplaySupportedFreq(void)
{
	int XFreqIndex;
	char buf[40];

	printf("Supported LMX2594 Frequencies:\n\r");
	for(XFreqIndex=0 ; XFreqIndex<SIZEOF_LMX; XFreqIndex++) {

		stringCnv_KHz_2_HZ(ClockingLmx[XFreqIndex].XFrequency, buf);
		printf("%16s Hz (%8dKHz)\n\r", buf, ClockingLmx[XFreqIndex].XFrequency);
	}

	return;
}


void LMK04208DisplaySettings(int LMK04208_configIndex)
{
    int val;
    
    // Display values if they are defined in structure
    if(ClockingLmk[LMK04208_configIndex].Fosc != -1) {
        printf("           Fosc: %6.2f MHz\n\r", (double)ClockingLmk[LMK04208_configIndex].Fosc / (double)1000);
    }
    if(ClockingLmk[LMK04208_configIndex].axiFreq != -1) {
        printf("        AXI Clk: %6.2f MHz\n\r", (double)ClockingLmk[LMK04208_configIndex].axiFreq / (double)1000);
    }
    if(ClockingLmk[LMK04208_configIndex].sysrefFreq != -1) {
        printf("       SYSREF's: %6.2f MHz\n\r", (double)ClockingLmk[LMK04208_configIndex].sysrefFreq / (double)1000);
    }
    if ( (val = ClockingLmk[LMK04208_configIndex].refClkSrc) != -1) {
        printf(" Ref Clk (%4s): %6.2f MHz\r\n", 
                    (val==0) ? "int" : 
    		        (val==1) ? "ext" : "auto",
    				(double)ClockingLmk[LMK04208_configIndex].refClkFreq / (double)1000);
    }
	return;
}


void stringCnv_KHz_2_HZ(int valKhz, char *bufptr)
{
	int val;

	if( (val = valKhz/1000000) ) bufptr += sprintf(bufptr, "%3d,", val);
	else val=0;
	bufptr += sprintf(bufptr, "%03d,", val = (valKhz/1000) - val*1000);
	bufptr += sprintf(bufptr, "%03d,000",  valKhz % 1000);
}
